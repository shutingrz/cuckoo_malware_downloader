class Collection():

  #collection = [
  #               'id': 1, {{'id': 1, 'url':'http://konnna.site/sonzai/sinai', filename='petya.exe', ua='Mozilla/5.0', state=STANDBY}}
  #             ] 

  def __init__(self, cuckoo_web_host):
    self.collection = []
    self.CUCKOO_WEB_HOST = cuckoo_web_host

  def storeItem(self, url=None, filename=None, ua=None):

    try:
      key = str(len(self.collection)+1)
      self.collection.append({
          'id': key,
          'data': {
            'id': key, 
            'url': url, 
            'filename': filename, 
            'ua': ua, 
            'cuckoo_web_url': self.CUCKOO_WEB_HOST,
            'state': 'STANDBY', 
            'fetchPercent': '0', 
            'isStarted': '0',
            'isFetched': '0', 
            'isInstalled': '0', 
            'isSubmitted': '0', 
            'submit_id': '',
            'ErrorPoint': '',
            'ErrorMessage': '',
            'WarningMessage': []
          }
      })
      id = str(key)
    except Exception as exc:
      id = None

    return id

  def getItem(self, key):
    try:
      for item in self.collection:
        if item['id'] == key:
          return item['data']
    except Exception as exc:
      pass
    return None

